<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte de Asistencias - ITSON</title>
    <link rel="stylesheet" href="../styles/asistencias.css">
</head>

<body>
    <header>
        <img src="../assets/logo_itson.png" alt="ITSON" class="logo-itson">
    </header>

    <div class="container">
        <h1 id="tituloReporte">Reporte de Asistencias</h1>

        <!-- Filtros -->
        <div class="filtros">
            <label for="filtroMatricula">Matrícula:</label>
            <input type="text" id="filtroMatricula" placeholder="Filtrar por matrícula" oninput="aplicarFiltros()">

            <label for="filtroMateria">Clase:</label>
            <select id="filtroMateria" onchange="aplicarFiltros()">
                <option value="">Todas</option>
            </select>

            <label for="filtroFecha">Fecha:</label>
            <input type="date" id="filtroFecha" onchange="aplicarFiltros()">
            <label for="filtroEstado">Estado:</label>
            <select id="filtroEstado" onchange="aplicarFiltros()">
                <option value="">Todos</option>
                <option value="Presente">Presente</option>
                <option value="Tarde">Tarde</option>
                <option value="Falta">Falta</option>            
            </select>

        </div>

        <!-- Tabla de asistencias -->
        <div id="reporteImprimible">
            <table id="tablaAsistencias">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Matrícula</th>
                        <th>Nombre</th>
                        <th>Materia</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- Métricas -->
        <div class="metricas">
            <p>Total registros: <span id="totalReg">0</span></p>
            <p>Total presente: <span id="totalPresente">0</span></p>
            <p>Total tarde: <span id="totalTarde">0</span></p>
            <p>Total faltas: <span id="totalFalta">0</span></p>
        </div>

        <!-- Botones -->
        <div class="botones">
            <button onclick="descargarPDF()">Descargar PDF</button>
            <button onclick="cerrarSesion()">Cerrar sesión</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="../../mocks/gruposMock.js"></script>
    <script src="../scripts/asistencias.js"></script>
</body>

</html>